<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2026-02-25 三 15:31 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>如何在Linux中生成字符串</title>
<meta name="author" content="zhuhy" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/themes/danliden/css/orgbase.css">
<link rel="stylesheet" type="text/css" href="/themes/danliden/css/orgstyle.css">
<script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"3J1LdRG6wZ4yWQly",ck:"3J1LdRG6wZ4yWQly"})</script>
<script src="/statics/scripts/dark-mode.js" defer></script>
</head>
<body>
<div id="preamble" class="status">
<hr class="topnav-rule"/>
<header class="site-header">
  <a href="/" class="site-header__brand">
    <h2>LaoZhuZhu</h2>
  </a>
  <nav class="topnav-links" aria-label="Primary">
    <a href="/posts.html">文章</a>
    <span class="topnav-divider" aria-hidden="true">/</span>
    <a class="topnav-icon" href="/rss.xml" aria-label="RSS feed">
      <svg class="rss-icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 4h1a14 14 0 0 1 14 14v1"/>
        <path d="M5 11h1a7 7 0 0 1 7 7v1"/>
        <circle cx="6" cy="18" r="2"/>
      </svg>
    </a>
    <span class="topnav-divider" aria-hidden="true">/</span>
    <button id="theme-toggle" class="nav-theme-toggle topnav-icon" type="button" aria-label="Switch to dark mode" aria-pressed="false">
        <svg class="theme-icon" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79Z"/>
        </svg>
    </button>
  </nav>
</header>
<hr class="topnav-rule"/>
</div>
<div id="content" class="content">
<h1 class="title">如何在Linux中生成字符串</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org1b99a98">1. 生成指定字节长度的随机字符串</a>
<ul>
<li><a href="#org27522ad">1.1. 方法一</a></li>
<li><a href="#org38e7afe">1.2. 方法二</a></li>
<li><a href="#orgdb1a68e">1.3. 方法三</a></li>
</ul>
</li>
<li><a href="#org7a85fcc">2. 获取字符长度</a>
<ul>
<li><a href="#orgb9abac8">2.1. ${#string}</a></li>
<li><a href="#org205e72f">2.2. awk</a></li>
<li><a href="#orga9985d3">2.3. expr</a></li>
<li><a href="#orge5863c5">2.4. wc</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="PREVIEW" id="org05df384">
<p>
本文介绍如何在Linux中，使用Shell命令生成随机长度的字段串，如何获取字符串长度。
</p>

</div>
<div id="outline-container-org1b99a98" class="outline-2">
<h2 id="org1b99a98"><span class="section-number-2">1.</span> 生成指定字节长度的随机字符串</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org27522ad" class="outline-3">
<h3 id="org27522ad"><span class="section-number-3">1.1.</span> 方法一</h3>
<div class="outline-text-3" id="text-1-1">
<div class="org-src-container">
<pre class="src src-shell">$ head -c <span style="color: #a45bad;">1</span> /dev/urandom | od -A n -t x | tr -d <span style="color: #2d9574;">' '</span>
<span style="color: #a45bad;">0000009b</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org38e7afe" class="outline-3">
<h3 id="org38e7afe"><span class="section-number-3">1.2.</span> 方法二</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">
<pre class="src src-shell">$ echo $<span style="color: #7590db;">RANDOM</span> | md5sum | cut -c <span style="color: #a45bad;">1-8</span> 
d93e80aa

$ echo $<span style="color: #7590db;">RANDOM</span> | cksum | cut -c <span style="color: #a45bad;">1-8</span> 
<span style="color: #a45bad;">16554059</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdb1a68e" class="outline-3">
<h3 id="orgdb1a68e"><span class="section-number-3">1.3.</span> 方法三</h3>
<div class="outline-text-3" id="text-1-3">
<div class="org-src-container">
<pre class="src src-shell">$ openssl rand -hex <span style="color: #a45bad;">64</span> | cut -c <span style="color: #a45bad;">1-8</span>
<span style="color: #a45bad;">0b00f627</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org7a85fcc" class="outline-2">
<h2 id="org7a85fcc"><span class="section-number-2">2.</span> 获取字符长度</h2>
<div class="outline-text-2" id="text-2">
<p>
在Shell脚本编程中，经常需要获取字符串的长度。有多种方法可以实现这一需求，以下是一些常用的方法：
</p>
</div>
<div id="outline-container-orgb9abac8" class="outline-3">
<h3 id="orgb9abac8"><span class="section-number-3">2.1.</span> ${#string}</h3>
<div class="outline-text-3" id="text-2-1">
<p>
这是最简单也是最直接的方法。在Shell中，可以直接使用${#string}来获取字符串的长度。例如：
</p>

<div class="org-src-container">
<pre class="src src-shell">$ <span style="color: #7590db;">str</span>=<span style="color: #2d9574;">"Hello World"</span>
$ echo $<span style="color: #4f97d7;">{</span>#<span style="color: #7590db;">str</span><span style="color: #4f97d7;">}</span> <span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#36755;&#20986; 11</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org205e72f" class="outline-3">
<h3 id="org205e72f"><span class="section-number-3">2.2.</span> awk</h3>
<div class="outline-text-3" id="text-2-2">
<p>
awk是一个强大的文本处理工具，它的length函数可以用来获取字符串的长度。使用awk时，可以通过管道将字符串传递给awk，然后使用length函数计算长度。例如：
</p>

<div class="org-src-container">
<pre class="src src-shell">$ <span style="color: #7590db;">str</span>=<span style="color: #2d9574;">"Hello World"</span>
$ echo $<span style="color: #7590db;">str</span> | awk <span style="color: #2d9574;">'{print length}'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga9985d3" class="outline-3">
<h3 id="orga9985d3"><span class="section-number-3">2.3.</span> expr</h3>
<div class="outline-text-3" id="text-2-3">
<p>
expr是另一个用于字符串操作的工具，它的length选项可以返回字符串的长度。使用expr时，需要将字符串作为参数传递给expr length。例如：
</p>

<div class="org-src-container">
<pre class="src src-shell">$ <span style="color: #7590db;">str</span>=<span style="color: #2d9574;">"Hello World"</span>
$ expr length <span style="color: #2d9574;">"$str"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge5863c5" class="outline-3">
<h3 id="orge5863c5"><span class="section-number-3">2.4.</span> wc</h3>
<div class="outline-text-3" id="text-2-4">
<p>
wc命令通常用于计算文件中的行数、单词数或字符数。使用wc -m选项可以计算字符串中的字符数。需要注意的是，使用echo命令时应该加上-n选项，以避免在字符串末尾添加换行符，这样会影响长度的计算。例如：
</p>

<div class="org-src-container">
<pre class="src src-shell">$ <span style="color: #7590db;">str</span>=<span style="color: #2d9574;">"Hello World"</span>
$ echo -n $<span style="color: #7590db;">str</span> | wc -m
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<div id="footer">
    Last updated 2025-02-07 五 10:12<br>
    Built with <a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.3 (<a href="https://orgmode.org">Org</a> mode 9.7.26).
</div>
</div>
</body>
</html>
